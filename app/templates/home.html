{% extends "layout.html" %}
{% block title %}Gottesanbeterin gesucht!{% endblock title %}
{% from "macro.html" import popover %}
{% block content %}

    <!--Projektbeschreibung section -->
    <section id="Projektbeschreibung" class="relative px-4 py-20 overflow-hidden sm:px-6 lg:px-8">
        <div class="mx-auto max-w-7xl">
            <div class="space-y-32">
                <!-- Section 1 -->
                <div class="relative">
                    <div class="items-center lg:grid lg:grid-cols-2 lg:gap-12">
                        <div class="relative mb-8 lg:row-start-1 lg:col-start-2 lg:mb-0">
                            <div class="overflow-hidden rounded-lg shadow-2xl aspect-w-3 aspect-h-2">
                                <img src="{{ url_for('static', filename='images/berger06.avif') }}" alt="Gottesanbeterin wird von einer Kamera aufgenommen" class="object-cover object-center w-full h-full transition-transform duration-700 hover:scale-110">
                            </div>
                            <!-- Decorative Icon -->
                            <div class="absolute top-0 right-0 p-2 transform translate-x-1/2 -translate-y-1/2 bg-white rounded-full shadow-lg">
                                <svg class="w-8 h-8 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z" />
                                </svg>
                            </div>
                        </div>
                        <div class="relative lg:row-start-1 lg:col-start-1">
                            <h2 class="pb-8 text-3xl font-bold tracking-tight text-transparent text-gray-900 sm:text-4xl bg-clip-text bg-gradient-to-r from-green-600 to-green-400">Gottesanbeterin gesucht! -Projekt</h2>
                            <p class="mb-6 text-lg leading-relaxed text-gray-600">
                                Das <span class="font-semibold text-green-600">Naturkundemuseum Potsdam</span> und die <span class="font-semibold text-green-600">Mantidenfreunde Berlin-Brandenburg</span> initiieren das Projekt "Gottesanbeterin gesucht!" mit dem Ziel, die <span class="font-semibold text-green-600">Europäische Gottesanbeterin</span> (<i>Mantis religiosa</i> L. 1758) in der Region Brandenburg zu kartieren. Seit 2016 sammeln wir <span class="font-semibold text-green-600">Fundmeldungen</span> dieser speziellen Fangschreckenart und bitten Sie, uns bei der Erforschung ihrer <span class="font-semibold text-green-600">Ausbreitung</span> zu unterstützen.
                            </p>
                            <a href="https://www.naturkundemuseum-potsdam.de/gottesanbeterin-gesucht" target="_blank" class="relative inline-flex items-center px-6 py-3 overflow-hidden text-base font-medium text-white transition duration-300 bg-green-500 rounded-md shadow-md group hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500">
                                <span class="relative z-10">Mehr erfahren</span>
                                <svg class="w-5 h-5 ml-2 -mr-1 transition-transform duration-300 group-hover:translate-x-1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                    <path fill-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" clip-rule="evenodd" />
                                </svg>
                                <div class="absolute inset-0 w-full h-full transition-all duration-300 scale-0 rounded-md group-hover:scale-100 group-hover:bg-white/10"></div>
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Section 2 -->
                <div class="relative">
                    <div class="items-center lg:grid lg:grid-cols-2 lg:gap-12">
                        <div class="relative mb-8 lg:mb-0">
                            <div class="overflow-hidden rounded-lg shadow-2xl aspect-w-3 aspect-h-2">
                                <img src="{{ url_for('static', filename='images/berger03.avif') }}" alt="Gottesanbeterin nahaufnahme" class="object-cover object-center w-full h-full transition-transform duration-700 hover:scale-110">
                            </div>
                            <!-- Decorative Icon -->
                            <div class="absolute bottom-0 left-0 p-2 transform bg-white rounded-full shadow-lg translate-x-1/4 translate-y-1/4">
                                <svg class="w-8 h-8 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"></path>
                                </svg>
                            </div>
                        </div>
                        <div class="relative">
                            <h2 class="pb-8 text-3xl font-bold tracking-tight text-transparent text-gray-900 sm:text-4xl bg-clip-text bg-gradient-to-r from-green-600 to-green-400"><i>Mantis religiosa</i> L. 1758</h2>
                            <p class="mb-6 text-lg leading-relaxed text-gray-600">
                                Die <span class="font-semibold text-green-600">Europäische Gottesanbeterin</span> ist die einzige Art unter etwa 2.400 Fangschrecken-Arten, die in Deutschland, insbesondere in <span class="font-semibold text-green-600">Brandenburg</span>, vorkommt. Mit ihren zum Gebet gefalteten Vorderbeinen unterscheidet sie sich deutlich von anderen Insekten. Ihre <span class="font-semibold text-green-600">geschickte und gut getarnte Lebensweise</span> macht die Suche nach ihr jedoch anspruchsvoll, daher sind wir auf Ihre <span class="font-semibold text-green-600">Meldungen</span> angewiesen.
                            </p>
                            <a href="/mantis-religiosa" class="relative inline-flex items-center px-6 py-3 overflow-hidden text-base font-medium text-white transition duration-300 bg-green-500 rounded-md shadow-md group hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500">
                                <span class="relative z-10">Mehr über Mantis religiosa</span>
                                <svg class="w-5 h-5 ml-2 -mr-1 transition-transform duration-300 group-hover:translate-x-1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                    <path fill-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" clip-rule="evenodd" />
                                </svg>
                                <div class="absolute inset-0 w-full h-full transition-all duration-300 scale-0 rounded-md group-hover:scale-100 group-hover:bg-white/10"></div>
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Section 3 -->
                <div class="relative">
                    <div class="items-center lg:grid lg:grid-cols-2 lg:gap-12">
                        <div class="relative mb-8 lg:row-start-1 lg:col-start-2 lg:mb-0">
                            <div class="overflow-hidden rounded-lg shadow-2xl aspect-w-3 aspect-h-2">
                                <img src="{{ url_for('static', filename='images/berger10.avif') }}" alt="Gottesanbeterin in ihrem Lebensraum" class="object-cover object-center w-full h-full transition-transform duration-700 hover:scale-110">
                            </div>
                            <!-- Floating Element -->
                            <div class="absolute top-0 left-0 p-3 transform bg-white rounded-full shadow-lg -translate-x-1/4 -translate-y-1/4">
                                <svg class="w-8 h-8 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                                </svg>
                            </div>
                        </div>
                        <div class="relative lg:row-start-1 lg:col-start-1">
                            <h2 class="pb-8 text-3xl font-bold tracking-tight text-transparent text-gray-900 sm:text-4xl bg-clip-text bg-gradient-to-r from-green-600 to-green-400">Was passiert mit meiner Meldung?</h2>
                            <p class="mb-6 text-lg leading-relaxed text-gray-600">
                                Jede <span class="font-semibold text-green-600">Meldung</span> einer in Brandenburg gefundenen Gottesanbeterin wird überprüft und in einer <span class="font-semibold text-green-600">Datenbank</span> erfasst. Ihr Bild dient ausschließlich zur Bestätigung des Fundes und wird in keiner Form weiterverwendet oder veröffentlicht. Mit Hilfe Ihrer wertvollen Informationen können wir <span class="font-semibold text-green-600">Verbreitungskarten</span> erstellen, welche die aktuelle <span class="font-semibold text-green-600">Ausbreitung</span> der Gottesanbeterin in Brandenburg zeigen.
                            </p>
                            <a href="/faq" class="relative inline-flex items-center px-6 py-3 overflow-hidden text-base font-medium text-white transition duration-300 bg-green-500 rounded-md shadow-md group hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500">
                                <span class="relative z-10">FAQ lesen</span>
                                <svg class="w-5 h-5 ml-2 -mr-1 transition-transform duration-300 group-hover:translate-x-1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                    <path fill-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" clip-rule="evenodd" />
                                </svg>
                                <div class="absolute inset-0 w-full h-full transition-all duration-300 scale-0 rounded-md group-hover:scale-100 group-hover:bg-white/10"></div>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

<!-- Animated counter section -->
<section class="py-16 bg-gray-100">
  <div class="container px-4 mx-auto">
    <div class="relative px-8 py-12 bg-green-800 rounded-lg shadow-2xl">
      <h2 class="mb-8 text-3xl font-bold leading-tight text-center text-gray-100">
        Wir haben insgesamt <br />
        <span class="font-extrabold text-gray-100 text-7xl counter" data-target="{{ post_count }}">0</span>
        <br />
        Meldungen erhalten
      </h2>
      <p class="mb-8 text-xl text-center text-gray-100">
        Helfen Sie uns, diese Zahl zu erhöhen!
      </p>
    </div>
  </div>
</section>
<script>
  const counter = document.querySelector('.counter');
  const target = +counter.dataset.target;
  console.log(target);
  const duration = 2500;
  let startTime = null;

  function easeOutExpo(time, b, c, d) {
    return c * (-Math.pow(2, -10 * time / d) + 1) + b;
  }

  function animate(currentTime) {
    if (startTime === null) startTime = currentTime;
    const elapsedTime = currentTime - startTime;
    const progress = Math.min(elapsedTime / duration, 1);
    const count = easeOutExpo(progress, 0, target, 1);

    counter.innerText = Math.floor(count);
    if (elapsedTime < duration) {
      requestAnimationFrame(animate);
    } else {
      counter.innerText = target;
    }
  }

  const observer = new IntersectionObserver(entries => {
    if (entries[0].isIntersecting) {
      requestAnimationFrame(animate);
      observer.disconnect();
    }
  });

  observer.observe(counter);
</script>

{% endblock content %}
