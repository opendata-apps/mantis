{% extends "layout.html" %} {% block content %}

<div id="mapid" style="height: 500px"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.js"></script>
<script>
  const map = L.map('mapid').setView([52.4521, 13.1907], 9);

  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors'
  }).addTo(map);
  
  let marker, lat, lng;
  
  function onMapClick(e) {
    if (marker) map.removeLayer(marker);
    marker = L.marker(e.latlng).addTo(map);
    marker.bindPopup(`Latitude: ${lat = e.latlng.lat}<br>Longitude: ${lng = e.latlng.lng}`).openPopup();
  }
  
  map.on('click', onMapClick);
</script>

{% endblock content %}
